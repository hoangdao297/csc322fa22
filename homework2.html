<html>
<head>
<title>This is homework 2</title>
</head>
<body>
<script src="https://threejs.org/build/three.js"></script>
<script>
	const renderer = new THREE.WebGLRenderer();
	renderer.setSize( window.innerWidth, window.innerHeight );
	document.body.appendChild( renderer.domElement );

	const camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 0.1, 1000 );
	camera.position.set( 0, 0, 100);
	camera.lookAt( 0, 0, 0 );

	const scene = new THREE.Scene();


	const geometry1 = new THREE.CylinderGeometry( 3, 5, 50, 4, true ).toNonIndexed(); 
	const material = new THREE.MeshBasicMaterial({vertexColors: true});
	const positionAttribute = geometry1.getAttribute( 'position' );
	const colorsarr = [];
	const color = new THREE.Color();
			
		for ( let i = 0; i < positionAttribute.count; i +=3 ) 
	    {
			
				color.set( Math.random() * 0xffffff ); //random colors
				colorsarr.push( color.r, color.g, color.b );	
	      colorsarr.push( color.r, color.g, color.b );	
	      colorsarr.push( color.r, color.g, color.b );	
	      colorsarr.push( color.r, color.g, color.b );	
	      colorsarr.push( color.r, color.g, color.b );	
	      colorsarr.push( color.r, color.g, color.b );	
			}


	geometry1.setAttribute( 'color', new THREE.Float32BufferAttribute(colorsarr, 3 ) );
	const cylinder = new THREE.Mesh( geometry1, material );
	scene.add(cylinder);


	const geometry2 = new THREE.ConeGeometry(3, 10, 4, 1, true).toNonIndexed();
	const material2 = new THREE.MeshBasicMaterial({vertexColors: true});
	const positionAttribute2 = geometry2.getAttribute( 'position' );
	const colors2 = [];
			const color2 = new THREE.Color();
			
			for ( let j = 0; j < positionAttribute.count; j += 3 ) 
	    {
				color.set( Math.random() * 0xffffff );
				colors2.push( color.r, color.g, color.b );
				colors2.push( color.r, color.g, color.b );
				colors2.push( color.r, color.g, color.b );
			}
	    
	geometry2.setAttribute( 'color', new THREE.Float32BufferAttribute( colors2, 3 ) );
	const cone = new THREE.Mesh( geometry2, material2 );
	scene.add(cone);


	cylinder.position.y -=10;
	cone.position.y += 20;


	const light = new THREE.PointLight(0xFFFFFF, 2, 300);
	light.position.set(20, 0, 25);
	scene.add(light);


	const render = function()
	{
		requestAnimationFrame(render);
	  renderer.render( scene, camera );
	  cone.rotation.y += 0.005;
	  cylinder.rotation.y += 0.005;
	}

	render();
</script>
</body>
</html>